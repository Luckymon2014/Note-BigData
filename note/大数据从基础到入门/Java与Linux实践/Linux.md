# 目录 #

[第一章 Linux基础实践](#c1)

- [第一节 Linux系统概述](#c1s1)
- [第二节 CentOS系统安装及配置](#c1s2)
- [第三节 Linux常用命令](#c1s3)
- [第四节 Linux网络基础](#c1s4)

[第二章 用户、权限管理](#c2)

- [第一节 Linux用户与组](#c2s1)
- [第二节 用户的管理与维护](#c2s2)
- [第三节 使用和配置Shell](#c2s3)

[第三章 Linux文件系统](#c3)

- [第一节 文件属性与访问权限](#c3s1)
- [第二节 文件权限与属主修改](#c3s2)
- [第三节 基本磁盘管理](#c3s3)
- [第四节 LVM高级磁盘管理](#c3s4)

********

<h1 id="c1">第一章 Linux基础实践</h1>

1. 了解Unix/Linux发展简史
2. 掌握CentOS安装及配置
3. 掌握Linux基本使用方法
4. 掌握Linux网络常用命令

********

<h2 id="c1s1">第一节 Linux系统概述</h2>

1. 了解Linux发展简史
2. 掌握Linux主要版本

----------

贝尔/贝尔实验室

- *1877年* 创建了贝尔电话电报公司
- *1969年* 贝尔实验室，肯·汤普森unis→Unix，第一个版本的Unix
- *1973年* C语言重写Unix系统
- *1974年* 基本免费给研究机构（美国政府不允许出售）
- *1983年* 拆解贝尔公司，可进入其他领域，成立Unix系统实验室，Unix需要收费

伯克利大学

- *1978年* 发行自己的Unix版本（BSD Unix）
- *1983年* 加入TCP/IP协议，人们公认BSD Unix的是世界上最好的Unix
- *90年代* 肃清贝尔公司的代码
- *1992-94年* 与贝尔公司打官司

Linux

- *1991年* Linus参考Unix源码，开发Linux内核，开源、免费，大群黑客加入其中

----------

Unix系统版本介绍

- AT&T开发的内部Unix使用顺序号标识版本 V1到V7
- BSD使用主版本加次版本的方法标识 4.2BSD，4.3BSD
- AT&T使用罗马数字标识Unix版本 SystemVRelease 4（SVR4）
- 其他商业公司的Unix使用各自的版本标识（Sun的Solaris2.6，IBM的AIX4.0）

Linux内核版本

- 内核版本是由Linux内核社区统一进行发布的
- [http://www.kernel.org/pub/linux/kernel/](http://www.kernel.org/pub/linux/kernel/)
- 主版本号+次版本号（奇数：开发版本/偶数：稳定版本）+末版本号（修复bug次数）

Linux系统的版本发展

- Linux发行版的名称和版本号是由发行版的维护者（Linux内核社区）决定的
- RHEL（部分闭源）和CentOS（基本开源）是由RedHat公司发布的
- Ubuntu Linux 6是由Ubuntu社团维护和发布的（图形界面版Linux）

********

<h2 id="1.2">第二节 CentOS系统安装及配置</h2>

1. 掌握[VMware Workstation](https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html)的安装（windows虚拟机）
2. 掌握[CentOS7](http://mirror.centos.org/centos/7/isos/)系统安装
3. 掌握WinSCP安装配置（ftp工具）

********

<h2 id="c1s3">第三节 Linux常用命令</h2>

1. 通过学习Linux常用命令能够上手使用Linux系统
2. 掌握vi编辑器的使用

----------

在命令行建立和执行命令

- GUI（图形操作） vs 终端窗口（命令行）
- 命令行格式：命令（指挥计算机做什么）+选项（如何运行，以“-”开头）/参数（指定目标）
- Linux命令的通用语法格式：command [options\*] [arguments\*]

常用的基本命令

- 系统启动与关闭
	- 机器通电后，自动引导操作系统，出现登录界面，系统启动成功
	- 结束Linux系统，应先关闭操作系统，然后关机
		- 切忌直接切断电源，一些系统进程还在运行，可能正在对文件进行操作
		- 仅仅切断电源，进程不能关闭文件，无法正常结束运行
	- 在Linux系统中，普通用户无权关闭系统，只有root用户才能关闭系统
		- 最新版本（CentOS 7），普通用户在发现其他用户已关闭时，也能关闭系统
		- 建议都用root用户来关闭系统
	- 可执行以下命令关闭系统
		- shutdown -h now
- 查看目录与文件
	- 显示当前路径
		- pwd
		- /home/user1
	- 显示目录中的内容
		- ls -options pathname
	- 显示隐含文件或目录
		- ls -a
	- 文件详细信息（长列表形式）
		- ls -l
			- 文件类型（-：普通文件/d：目录）+权限（r：可读/w：可写/x：可执行/-：禁止）
			- 链接计数
			- 所有者
			- 所有组
			- 大小
			- 最后修改时间
			- 文件名
	- 递归显示目录及其下子目录
		- ls -R
- 改变目录与文件
	- 改变当前目录
		- cd directory
		- cd不带参数，可直接回到宿主目录（家目录）
	- 复制文件或目录
		- cp -option source(s) target
		- cp -r dir1 dir2 //递归复制目录以及目录下所有内容
	- 移动和重命名
		- mv
	- 创建文件
		- touch
	- 创建目录
		- mkdir
	- 删除文件或目录
		- rm
		- rm -r //递归删除目录以及目录下所有内容
		- rm -f //强制删除
		- rm -rf //强制删除
- 查看文件内容
	- 完整显示一个或多个文件内容
		- cat
	- 分页显示文件内容
		- more
	- 读取文件前几行
		- head -数字（默认10）
	- 读取文件最后几行
		- tail -数字（默认10）
		- tail +n //从第n行到最后的内容
		- tail -f //实时跟踪文件
- 重定向与管道
	- 重定向：将输出内容写至制定文件或设备
		- command > file //如果文件已存在，将首先被自动清空
		- command >> file //如果文件已存在，在末尾追加
	- 管道：将输出内容写到一个临时文件中，然后再将这个临时文件的内容作为另一条命令的输入
		- command | command //多个命令结合起来使用，将左边命令的结果，作为右边命令的输入
		- command |grep text //grep查找指定文本，通常与管道符结合使用
		- ps -ef |grep ora //查找包含制定内容的进程
- 压缩与解压缩
	- 压缩
		- zip target source
		- zip -r file.zip * //递归压缩子目录
	- 解压缩
		- unzip file.zip
		- unzip -l file.zip //查看压缩文件内容
- 杂项命令
	- 在目录层次结构中查找指定的文件或目录
		- find
		- find / -name test.txt //从根目录中查找名为test.txt的文件
	- 设置系统时间格式
		- date -s format
	- 查看内存
		- free
	- 显示命令的帮助信息
		- man [-k] command
	- 显示命令的文档及相关信息
		- info command

----------

vi编辑器

- 普通模式（命令模式）
	- vi打开文件编辑时默认的模式
	- 可以删除、修改、复制/粘贴或移动文本，也可以定位光标、查找文本和退出编辑器
	- 操作
		- ↑↓←→：光标定位
		- x：向后删除一个字符
		- dd：删除光标所在的行
		- yy：复制光标所在的行
		- p：将已复制的文本，粘贴到光标的下一行
		- u：撤销
- 编辑模式
	- 可通过以下命令从普通模式进入编辑模式
		- i：在光标处输入文本
		- a：在光标后输入文本
		- o：在光标下一行新增一个空白行
		- r：替换光标处文本
	- 画面左下方会出现INSERT或REPLACE，表示进入编辑模式
	- Esc回到普通模式
	- 操作
		- 相当于windows下编辑
- 末行模式（允许使用功能更为强大的命令）
	- 可通过以下命令从普通模式进入末行模式
		- "："、 "/"、 "?"
	- 可以执行文本查找/替换、读取、存盘、退出vi、显示行号等操作
	- Esc回到普通模式
	- 操作
		- :w：存盘
		- :w!：强制存盘
		- :q!：放弃修改内容，直接退出
		- :wq!：强制存盘后退出
		- :set number：显示行号
		- /word：从光标出向后寻找下一个名为word的字符串
		- ?word：从光标出向前寻找下一个名为word的字符串
		- :s：对光标所在行设置
		- :%s：对所有行设置
		- :%s/word1/word2/g：对所有行寻找word1并替换成word2
- vim是vi的升级版，特征是彩色显示，底行多了一些提示

********

<h2 id="c1s4">第四节 Linux网络基础</h2>

1. 了解TCP/IP协议
2. 掌握IP地址概念及分类
3. 掌握子网概念

----------

TCP/IP协议

- 数据交换方式：包交换
- 交流方式：协议头（数据的使用说明）
- 身份识别：IP地址

----------

IP地址

- 使用四个字节表示，用“.”分开，每个字节0-255(十进制) / 00000000-11111111（二进制）（8个字节）
- 从左至右，四个字节按二进制位分为两个部分：网络地址位-用于标识不同的网络 & 主机地址位-用于赋给网络节点
- 网络地址位和主机地址位的区分是由网络掩码确定
- 网络掩码和IP地址对应，也由4个字节组成，使用二进制的1从左到右连续设置，为1的位对应的IP地址位是网络地址位，为0的位是主机地址位
- 例：IP：192.168.1.2 掩码：255.255.255.0，网络地址位：196.168.1 主机地址位：2
- 所有主机位都为0的IP地址表示为网络地址；所有主机位都为1的IP地址表示为网络广播地址
- 例：192.168.1.0是网络号（该网段的网络代表）；192.168.1.255是广播号（与192.168.1.1-254沟通）

----------

IP地址分类

- A类 网络号（0+7位）+主机号（24位），1.0.0.0到127.255.255.255
- B类 网络号（10+14位）+主机号（16位），128.0.0.0到191.255.255.255
- C类 网络号（110+21位）+主机号（8位），192.0.0.0到223.255.255.255
- D类 1110+多目的的广播地址/组播地址（28位），224.0.0.0到239.255.255.255
- E类 11110+保留用于实验室和将来使用，240.0.0.0到247.255.255.255

----------

IP地址子网

- A、B、C类地址，主机地址位可以转为网络地址位，由网络掩码设置（例如：255.255.255.128）
- 由主机地址位转为网络地址位而形成的网成为子网
- 合法的子网掩码
	- 128（1000 0000）
	- 192（1100 0000）
	- 224（1110 0000）
	- 240（1111 0000）
	- 248（1111 1000）
	- 252（1111 1100）
	- 254（1111 1110）
	- 255（1111 1111）
- 子网内部的地址可以直接互通，子网之间的地址不能直接互通，需要通过网关才能互通
- IP地址与网络掩码进行逻辑与计算，得出的地址即网络号，同网络号即在同一个子网中

----------

网络管理命令与文件

- 查看和设置网络接口的属性
	- 查看所有活动网络接口的信息
		- ifconfig
	- 查看所有网络接口（包括非活动的网络接口）的信息
		- ifconfig -a
	- 查看指定网络接口信息
		- ifconfig eth0
	- 配置指定网络接口的IP地址和子网掩码
		- ifconfig eth0 192.168.0.99 netmask 255.255.255.0
		- 只修改内存中网络接口的配置，网络服务重启后，配置信息将丢失
		- 修改网络接口配置文件/etc/sysconfig/network-scripts/使配置永久生效
- 网络接口配置文件
	- 网络接口配置文件所在位置：/etc/sysconfig/network-scripts/ifcfg-<网络接口>
	- 修改网络接口配置文件使网络接口配置永久生效
		- DEVICE=eth0：当前网卡
		- ONBOOT=yes/no：启动时加载
		- BOOTPROTO=static/dhcp：静态IP地址设置
		- IPADDR=192.168.180.1：IP地址 //注意虚拟机网关设置
		- NETMASK=255.255.255.0 //注意虚拟机网关设置
		- GATEWAY= 192.168.132.2 //注意虚拟机网关设置
	- 通过ifdown eth0和ifup eth0指令，重启网络接口，使编辑后的配置生效
	- 通过systemctl restart network指令，重启网络服务
- 显示和设置主机名称
	- 主机名称：用于识别机器，默认是localhost
	- 显示当前主机名称
		- hostname
	- 为当前主机设置新名称
		- hostname shanxiao
		- 临时生效，系统重启后，恢复为原有的主机名称
- 主机名称配置文件
	- 主机名称配置文件所在位置：/etc/hostname
	- 文件内容即主机名称
	- 重启系统，使编辑后的配置生效
	- 通过reboot指令，重启系统
- 本地主机名称解析文件
	- 修改主机名后，还应检查与主机名相关的/etc/hosts配置文件的内容，以确保IP地址与主机名的正确映射
	- 本地主机名称解析文件：/etc/hosts，记录了IP地址与主机名的映射关系
		- 例：127.0.0.1 localhost.localdomain localhost
	- hosts文件中设置主机名称的解析简单方便，非常灵活，可立即生效
		- 只在当前主机中有效，无法作用于整个网络
		- 主机名称解析的另一种方式是使用DNS服务，它可以使主机名称在整个网络中有效使用
- 测试当前主机与目标主机之间的网络连接
	- ping

********

<h1 id="c2">第二章 用户、权限管理</h1>

1. 了解Linux系统多用户特点
2. 掌握Linux系统用户管理相关概念
3. 掌握Linux系统用户管理相关配置文件
4. 掌握Linux系统用户的管理与维护
5. 掌握Linux系统环境变量的配置

********

<h2 id="c2s1">第一节 Linux用户与组</h2>

1. 掌握用户相关概念：包括用户、用户组、用户权限、配置文件等
2. 掌握用户账号相关配置文件
3. 掌握用户配置文件信息的具体含义

----------

用户管理概述

- Linux是典型的多用户管理系统
- 为了确保系统的安全和有效性,必须对用户进行妥善的管理和控制
	- 用户
	- 用户组（可以共享文件和其他资源的用户集合）
	- 用户权限
	- 配置文件

用户账号的组成

- 用户名 //不超过8个字符组成
- 密码
- UID //用户账号唯一标识
- GID //用户组唯一标识
- 用户信息注释
- 用户目录 //家目录，登入系统的起始目录 
- 用户Shell //用户默认的Shell，Linux有Bourne Shell、Korn Shell、C Shell、Z Shell、Bash和TCShell，默认是Bash

----------

记录用户信息的文件

- 用户配置文件
	- /etc/passwd
	- 每一行都是一个用户账号信息，由冒号分割的7个字段组成
		- 用户名
		- x //占位符,表示密码存放在shadow文件中
		- UID
		- GID
		- 注释
		- 用户目录
		- Shell
- 密码配置文件
	- /etc/shadow
	- 每一行都是一个用户密码信息,由冒号分割的9个字段组成
		- 用户名
		- 密码 //“!!”代表用户已禁用
		- 密码更新日期
		- 更新密码最短时间间隔
		- 更新密码最长时间间隔
		- 密码过期前几天警告
		- 潜伏期天数 //过了潜伏期天数仍未登录，即锁定账号
		- 过期时间
		- 注释
	- 该文件不可修改密码，修改密码需要通过指令
		- passwd 用户名
- 组配置文件
	- /etc/group
	- 每一行都是一个用户组信息，由冒号分割的4个字段组成
		- 组名
		- 组密码 //通常为空或者“*”,早期UNIX系统遗留下来，已不再使用
		- GID
		- 用户列表 //次组用户，用逗号来分割多个用户,默认情况下一个用户可最多同时属于15个次组

********

<h2 id="c2s2">第二节 用户的管理与维护</h2>

1. 掌握Linux用户的管理与维护
2. 掌握Linux用户组的管理与维护

----------

用户的创建、删除与修改

- 本地添加新用户
	- useradd [-u uid] [-g gid] [-G gid[,gid,...]] [-d dir [-m]] [-s shell] [-c comment] loginname
		- -g主组id
		- -G次组id
		- -m如果指定用户目录（-d）不存在，创建该目录
		- -D显示命令的默认参数
		- 命令完成以下过程
			1. 在/etc/passwd和/etc/shadow文件中添加用户信息
			2. 创建用户目录
			3. 从/etc/skel中复制相应的用户初始化文件到用户起始目录
- 本地修改用户
	- usermod [-u uid [-o]] [-g gid] [-G gid[,gid,...]] [-d dir [-m]] [-s shell] [-c comment] [-l newloginname] loginname
		- -o允许UID可以被重复使用
		- -m移动用户目录到指定的新目录（-d）
		- -f修改用户的潜伏期
		- -e修改用户的过期日期（月/日/年）,超过有效期被锁定
		- loginname指定被修改的用户
- 本地删除用户
	- userdel [-r] loginname
		- -r删除用户账号的同时清除用户目录 //即递归删除

----------

用户组的创建、删除与修改

- 本地添加新组
	- groupadd [-g gid [-o]] groupname
		-o允许GID可以被重复使用
- 本地修改组
	- groupmod [-g gid [-o]] [-n newgroupname] groupname
- 本地删除组
	- groupdel groupname

********

<h2 id="c2s3">第三节 使用和配置Shell</h2>

1. 掌握Shell的概念
2. 掌握环境变量的配置

----------

Shell

- Shell提供了用户和Linux内核之间进行交互操作的一种接口
- 用户在命令行中输入的指令都由Shell先解释，然后传给Linux内核去执行
- 应用程序->Shell->内核->硬件
- 常用的Shell
	- Bourne Shell (Sh)
	- C Shell (Csh) //国外使用较多
	- Korn Shell (Ksh)
	- Bourne Again Shell (Bash) //目前大多数Linux系统的缺省Shell
- Shell所在目录/bin/*sh

----------

Bash

- 由自由软件基金会（GNU）开发，是多数Linux系统默认的Shell
- Bourne Shell的升级版，继承了Csh、Ksh的优点
- 有灵活和强大的编程接口，友好的用户界面
- 有命令补全功能（Tab，两次Tab列举所有可能）

----------

配置环境变量

- 环境变量：系统或用户应用程序设置的一些参数
- Linux环境变量与Shell紧密关联，可分为以下两种类型
	- 系统变量
		- 配置文件路径：/etc/profile
		- profile文件会读取/etc/profile.d/目录下的文件用作全局环境变量
		- 系统启动时，自动读取配置文件所产生的变量
		- 系统变量是全局的，由系统管理员管理，一般不做修改
	- 用户变量
		- 配置文件路径：用户家路径/.bash_profile
		- 用户登录时，系统在其家目录中自动读取配置文件所产生的变量
		- 用户变量是在管理员创建用户时，系统在用户家目录下复制了/etc/skel中的模板内容，用户可以在其中添加自己定义的变量
- 注意
	- 一般使用大写表示
	- 等号两边不要有空格
	- PATH中不同路径用“：”隔开，路径排列顺序决定执行文件的搜索顺序
- 配置环境变量
	-  将自定义变量“输出”为环境变量
		- export
			- 例：export TEST="hello world"
			- echo $TEST
	- 查看环境变量
		- env
			- 例：env |grep ORA
		- echo $变量名
	- 推荐配置环境变量步骤
		1. /etc/profile.d/目录下新建*.sh文件，为每一个软件创建独立的环境变量（全局变量）；编辑家目录下.bash_profile文件（用户环境变量）
		2. 编辑文件，新增行：export 变量名="值"
		3. source *.sh //刷新环境变量
		4. echo $变量名 //查看环境变量
- 切换用户身份
	- su [-] [username]
		- “-”表示登录时加载用户的环境变量配置文件
		- 用户名可省略，省略时表示切换到root
	- exit
		- 退回到原用户

********

<h1 id="c3">第三章 Linux文件系统</h1>

1. 理解文件、文件分类、文件权限的概念
2. 掌握文件属性、文件权限结构、文件使用与维护
3. 掌握磁盘管理原理及操作

********

<h2 id="c3s1">第一节 文件属性与访问权限</h2>

1. 了解文件的概念、命令、结构、分类
2. 掌握Linux不同类型文件的特征和使用
3. 掌握Linux文件系统的权限原理

----------

文件概述

- 在计算机系统中，各种需要保存的信息是以文件的形式存在的。文件管理是对系统资源的管理
- 文件：具有名字的一组相关信息的有序集合，存放在外部存储器（硬盘）中
- 文件系统：是操作系统的一个重要组成部分，负责管理系统中的文件

文件命名

- 尽量简单，反映文件的内容，最大限制255个字符
- 除路径分割符“/”和空字符“\0”以外，可以包含任意的ASCII字符
- 允许使用“_”和“.”来区别文件的类型
- 避免使用空格、制表符或其他控制字符
- 同类文件应使用同样的后缀，也成为扩展名
- Linux系统区分文件名的大小写
- 以“.”开头的文件是系统的隐藏文件，必须用“-a”才能查看

文件结构

- 所有文件都包含文件名和Inode，大多数文件还包含数据块
- 文件名：与相应的Inode记录相关联，用于访问和操作文件
- Inode：是Linux操作系统用于记录文件相关信息的对象
	- 文件的元信息
	- 每个文件系统都有自己的Inode列表
	- 一般包含两部分
		- 文件相关的信息：所有者、操作权限、大小
		- 指向文件数据块的指针
	- stat filename //查看文件元信息
- 数据块：是用于存储数据的磁盘空间单元
	- 常规文件、目录、符号链接都使用数据块
	- 设备文件不使用数据块

----------

文件分类

- 可以使用ls -l列出文件类型（第一列字符）
	- -：常规文件
	- d：目录
	- l：符号链接文件
	- b：块设备文件
	- c：字符设备文件
- 常规文件
	- 可以存储不同类型的数据：ASCII文本数据、二进制数据、图像数据、数据库数据、应用程序数据等
	- 可以通过多种方式来创建常规文件
- 目录
	- 目录的数据块中存储着文件和子目录列表，以及它们关联的Inode信息
	- ls -i可以列出整个目录文件，即文件名和Inode
	- 根目录下的重要目录
		- /：根目录
		- /bin：软链接到/usr/bin目录，用来保存标准系统命令的二进制文件（Shell）
		- /dev：保存逻辑设备名的主目录，逻辑设备名是指向/devices目录下设备文件的符号链接
		- /etc：保存系统的配置文件以及系统管理方面的数据库文件
		- /home：用户home目录的缺省目录或者是该目录的挂接点
		- /lib：保存系统库文件
		- /mnt：文件系统临时挂接点，默认挂载光驱和软盘的目录
		- /opt：应用程序的默认安装目录
		- /sbin：保存单用户下使用的系统可执行文件
		- /usr：保存系统程序、脚本以及库文件
		- /var：保存一些临时性的文件，比如日志文件、状态文件等
		- /root：保存root用户相关文件
		- /boot：存放引导相关的文件
- 符号链接
	- 文件链接是实现文件共享的主要方式。Linux系统提供了两种文件链接方式，即符号链接和硬链接
		- 符号链接（软链接）：类似Windows系统中的快捷方式
		- 硬链接：与普通文件没什么不同，多个文件的Inode都指向同一个文件数据块
	- 符号链接
		- 符号链接文件：是指向另一个文件的文件
		- 符号链接文件中只包含它所指向文件的路径名
		- 符号链接的大小就是其所指向文件的路径的字符数
			- 例：ls -l /usr/tmp
		- 符号链接可以指向常规文件、目录、其他符号链接或者设备文件
			- 可以使用相对路径或者绝对路径
		- 创建符号链接文件
			- ln -s filename linkname //-s代表软链接
	- 硬链接
		- 硬链接：一般情况下，文件名和Inode是一一对应的,Linux系统允许多个文件名指向同一个Inode,这种情况就被称为“硬链接”
		- 硬链接意味着，不同文件名访问同样的内容，对文件内容修改会影响到所有文件名
		- 创建硬链接
			- ln filename linkname
		- 查找同Inode的文件或目录
			- find -inum inode
		- 链接计数：Inode信息中记录了与其关联的文件名数量
	- 软硬链接区别
		- 文件类型不同，“l”：软链接，“-”：硬链接（常规文件）
		- 删除源文件，对硬链接没有影响，软链接失效
- 设备文件
	- 设备文件用来提供用户对设备的访问
	- 没有数据块,Inode包含了所指向设备的设备号信息,可用ls -l显示设备号
		- 例：ls -l /dev/sda*
	- 设备文件长列表的第五列是以逗号隔开的两个数字（其他文件是代表文件大小的一个数字），分别是主设备号和从设备号
		- 主设备号定义了指定设备所需的设备驱动程序 //设备分类
		- 从设备号定义了设备驱动程序控制的指定单元 //设备编号，区分某个设备
	- 设备文件分类
		- 字符设备
			- 也称为裸设备
			- 文件类型标识为“c”
			- 对于磁盘设备,字符设备文件以基于字节来进行I/O操作
			- 例：打印机
		- 块设备
			- 文件类型标识为“b”
			- 对于磁盘设备，块设备文件以基于创建文件系统时所定义的块大小进行I/O操作
			- 块的大小取决于特定的设备，对于Linux使用的ext3文件系统，其默认的块大小为4K字节
			- 例：硬盘

----------

文件权限

- Linux系统将一个文件的可设置权限的用户分成三类
	- 所有者（User）的权限
	- 组用户（Group）权限
	- 其他用户（Other）权限
- r：读取
	- 对于目录而言，拥有可读权限，必须拥有可执行权限，即可执行ls
- w：写入
	- 对于目录而言，拥有可写权限，必须拥有可执行权限
- x：执行
	- 对于目录而言，即意味着具有进入目录的权限
- -：禁用
	- 表示不具有该权限，或取消该权限
- 特殊说明
	- 普通文件的权限还依赖于其所在目录的权限
	- 每个用户都拥有自己的专属目录（主目录），通常放置在/home目录下，其默认权限通常为rwx------
	- 超级用户root不受访问权限的限制

********

<h2 id="c3s2">第二节 文件权限与属主修改</h2>

1. 掌握文件权限的修改操作
2. 掌握文件属主的修改操作

----------

改变权限及属主

- 修改目录或文件的权限
	- chmod [-R] [权限值] [目录|文件]
		- 只有root和文件所有者能够执行
		- -R表示递归修改子目录权限
		- 权限值
			- 权限符号：rwxrwxrwx
			- 三位八进制数字：777
	- chmod [u/g/o/a] [+/-/=] [r/w/x] [目录|文件]
		- u：属主/g：属组/o：其他/a：所有
		- +：新增权限/-：取消权限/=：设置权限
		- 例：chmod u+x,go+r file
- 修改目录或文件的所有者及所有组
	- 文件的所有者缺省为文件创建者，但可以通过命令来改变它
	- chown [-R] 用户:组 [目录|文件]
		- 只有root用户能够执行
		- -R表示递归修改z目录属主

********

<h2 id="c3s3">第三节 基本磁盘管理</h2>

1. 掌握磁盘的相关概念（硬件）
2. 掌握文件系统相关概念（软件）
3. 掌握磁盘与文件系统的使用

----------

基本磁盘管理

- Linux系统的基本磁盘管理，以硬盘为例，包括以下几部分工作
	1. 硬盘分区
		- 硬盘设备根据其硬件结构及接口的不同，主要分为以下两种类型
		- IDE接口类型 //一般用于PC电脑，便宜
		- SCSI接口类型 //一般用于服务器，性能高
		- 在Linux系统中，所有硬件设备都会以一个文件的形式映射到/dev目录下
			- 例如CPU、内存、键盘、鼠标等等
		- 无论哪种类型的硬盘，同样也是以文件形式映射到/dev目录的
			- IDE硬盘：第一个设备名为hda，第二个设备名为hdb...
			- SCSI硬盘：第一个设备名为sda，第二个设备名为sdb...
		- 分区：针对每一硬盘设备进行的空间划分
		- 分区的多少与容量，在符合要求的范围内几乎是可以任意的，根据具体需求而定
		- 分区类型（主分区&扩展分区:物理分区/逻辑分区）
			- 主分区
				- 作用是启动操作系统，所以Linux系统引导程序应该存放在主分区
				- 至少1个，最多4个
			- 扩展分区
				- 除了主分区以外，剩余的磁盘空间就是扩展分区
				- 可以没有，最多1个
				- 主+扩展最多4个
			- 逻辑分区
				- 在扩展分区上继续分区，形成的分区
		- 分配序列号用来代表硬盘上不同的分区号
			- 例：sda1、sda2...
			- 主分区或扩展分区占用sda1到sda4，逻辑分区号从sda5开始
		- 分区操作
			- 在安装Linux操作系统的过程中，安装软件以图形界面形式提供了硬盘分区工具
			- 在现有Linux系统中增加新磁盘，可以使用fdisk命令对磁盘进行分区操作
	2. 创建文件系统（格式化）
		- 任何操作系统要访问磁盘的某一分区上的数据，均是通过安装在该分区上的文件系统来完成的
		- 不同的操作系统，都有其自身特定的文件系统
			- Windows系统使用的NTFS文件系统
			- Linux系统使用的ext3文件系统
			- 各操作系统能够有限地识别和支持其他文件系统
		- 硬盘分区后，需要在每个分区上创建文件系统才能使用
		- 对于Linux文件系统，一般选择ext3格式，其存储效率高，是一种日志型文件系统
			- mkfs <选项> <分区设备名>
			- mkfs.ext3 <分区设备名>
				- -t  fstype：指定要创建的文件系统类型
				- -c：查找环块，并初始化环块列表
			- 例：mkfs -t ext3 /dev/sdb1 
	3. 文件系统的挂载
		- 挂载（mount）：建立文件系统之后，还需要将文件系统安装到Linux目录树的某个位置上才能使用，这一过程称为挂载
		- 挂载点：文件系统所挂载到的目录
		- 挂载文件系统命令
			- mount <设备名> <挂载点>
			- 例：mount /dev/sdb1 /newdisk/sdb1
		- 卸载文件系统命令
			- umount <设备名> <挂载点>
			- 例：umount /dev/cdrom
- 对于一块全新的、未做过任何处理的硬盘，必须对其进行分区和格式化后才能使用
- 以上操作临时生效，重启系统后消失，需要永久生效，需要编辑配置文件/etc/fstab

----------

查看磁盘空间

- Linux提供了两个快速查看磁盘空间的指令
	- 统计目录的磁盘使用情况
		- du
			- -s：显示目录总的空间使用量
			- -h：带单位（K、M等）显示目录的空间使用量
	- 查看文件系统空间使用情况
		- df
			- -i：显示系统Inode使用剩余情况，而不是磁盘空间大小
			- -h：带单位（K、M等）显示磁盘信息

********

<h2 id="c3s4">第四节 LVM高级磁盘管理</h2>

1. 掌握逻辑卷概念及相关常用专业术语
2. 掌握逻辑卷的创建、查看

----------

LVM逻辑卷

- LVM全称是Logical Volume Manager，即逻辑卷管理系统
- 逻辑卷管理系统可以随意扩大或缩小文件系统的空间容量，实现文件系统空间容量的动态调整
- LVM的实现是将磁盘分区通过软件组合成一块独立卷组（VG），然后再将该卷组划出逻辑卷（LV），这时逻辑卷就相当于一个磁盘分区
- 之后就可以按磁盘分区对LV进行管理，如格式化、挂载到系统中使用
- 物理卷（Physical Volume-PV） -> 独立卷组（Volume Group-VG） ->  逻辑卷（Logical Volume-LV）
- 逻辑卷类型
	- 线性卷
		- 可以将多个物理卷集合到一个逻辑卷中，用于将小的磁盘空间组成大的磁盘空间
			- 写入时是顺序写入的，第一块物理盘写满了再写入第二块磁盘
	- 条状卷（Stripe）
		- 当向LVM逻辑卷读写数据时，数据以指定的块大小均匀分布在不同物理卷上
		- 相当于同时从多个物理硬盘上读写，从而提高数据I/O效率
	- 镜像卷
		- 用来保护数据，在不同设备中写入数据的相同副本
		- 占用空间大

创建LVM逻辑卷

1. 将用于LVM卷的分区初始化为物理卷
	- pvcreate
	- 例：pvcreate /dev/sdb1 /dev/sdc1
2. 创建卷组
	- vgcreate
	- 例：vgcreate vg0 /dev/sdb1 /dev/sdc1 /dev/sde1
3. 创建逻辑卷
	- lvcreate
		- -n：指定逻辑卷的名字
		- -L：指定逻辑卷的大小
		- -m：当创建镜像卷时，指定副本的数量
		- -i：创建条状卷时，指定分布的物理卷数量
		- -I：创建条状卷时，指定分布时的数据块大小
	- 逻辑卷类型缺省为线性卷
	- 例：lvcreate -n mylv -L 100M vg0

查看LVM逻辑卷

- pvs
- pvdisplay
- vgs
- vgdisplay
- lvs
- lvdisplay

案例

1. 分区
	- fdisk /dev/sdc
		- n
		- p
		- w
	- fdisk /dev/sdd
2. 修改LVM标记
	- fdisk sdc
	- t // change a partition's system id
	- 8e //Linux RVM
	- w
3. 创建物理卷
	- pvcreate /dev/sdc1 /dev/sdd1
	- pvdisplay
4. 创建名为vg0的卷组
	- vgcreate vg0 /dev/sdc1 /dev/sdd1
	- vgdisplay
5. 创建名为lv0的逻辑卷
	- lvcreate -L 3.99G -n lv0 vg0
	- lvdisplay
6. 创建文件系统
	- mkfs.ext3 /dev/vg0/lv0
7. 挂载
	- mount /dev/vg0/lv0 /mnt
	- mount
	- cd /mnt
8. 查看空间
	- df -h